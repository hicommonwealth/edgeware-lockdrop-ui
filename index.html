<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Edgeware Lockdrop</title>
    <meta name="description" content="Interface for participating in the Edgeware lockdrop.">
    <meta name="author" content="Commonwealth Labs">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="icon" type="image/png" href="images/favicon.png">
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/page.js"></script>
  </head>
  <body>
    <div class="header">
      <div class="container">
        Edgeware Lockdrop
      </div>
    </div>
    <div class="container body-container">
      <div class="wallet-explanation">
        If you're new to the Edgeware Lockdrop, read more on
        <a href="https://blog.edgewa.re/important-updates-to-the-edgeware-lockdrop/" target="_blank">our blog</a>. If you
        need an EDG address, see the <a href="gettingstarted.html" target="_blank">instructions</a>.
        <noscript>
          <br/>
          This page requires JavaScript.
        </noscript>
      </div>
      <div class="form-field">
        <div class="form-left">
          <div class="caption">Lockdrop contract address</div>
          <input id="LOCKDROP_CONTRACT_ADDRESS" type="text" value="0x1b75b90e60070d37cfa9d87affd124bb345bf70a" readonly></input>
          <div class="network-selector">
            <label><input type="radio" name="network" value="mainnet" checked></input>Mainnet</label>
            <label><input type="radio" name="network" value="ropsten"></input>Ropsten</label>
          </div>
        </div>
        <div class="explanation">
          Contract audited by <a href="https://arena-attachments.s3.amazonaws.com/4282493/a155dc84aa1dfba4cfd3dc6be1e1ebdc.pdf?1557965252" target="_blank">Quantstamp</a>.
          Verify the code and ABI on <a href="https://etherscan.io/address/0x1b75b90e60070d37cfa9d87affd124bb345bf70a" target="_blank">Etherscan</a>.
        </div>
      </div>
      <div class="form-field">
        <div class="form-left">
          <div class="caption">EDG address</div>
          <input id="EDGEWARE_BASE58_ADDRESS" type="text" value=""
                 placeholder="Public EDG address (e.g. 5E1d...)"></input>
        </div>
        <div class="explanation">
          Your EDG will go to this address.
          If you do not have an EDG address, create one using the <a href="gettingstarted.html" target="_blank">instructions</a>.
        </div>
      </div>
      <div class="form-field">
        <div class="form-left">
          <div class="caption">Selection</div>
          <label><input type="radio" name="locktime" value="lock3"></input>Lock 3 months</label>
          <label><input type="radio" name="locktime" value="lock6"></input>Lock 6 months (+30%)</label>
          <label><input type="radio" name="locktime" value="lock12"></input>Lock 12 months (+120%)</label>
          <label><input type="radio" name="locktime" value="signal"></input>Signal (-80%, receive 75% of EDG in 1 year)</label>
        </div>
        <div class="explanation">
          <p>If you want to be eligible to run a validator node at the genesis block, you must select Lock.</p>
          <p>Note that any <a href="https://blog.edgewa.re/important-updates-to-the-edgeware-lockdrop/" target="_blank">early locking bonuses</a> are applied on top of bonuses for lock period.</p>
        </div>
      </div>
      <div class="form-field form-field-locking">
        <div class="form-left">
          <div class="caption">Lock amount</div>
          <input id="ETH_LOCK_AMOUNT" type="text" value=""
                 placeholder="Amount of ETH to lock"></input>
        </div>
        <div class="explanation">
          The amount of ETH you are locking.
        </div>
      </div>
      <div class="form-field form-field-locking">
        <div class="form-left">
          <div class="caption">Validate at network launch</div>
          <label><input type="radio" name="validator" value="no" checked></input>No</label>
          <label><input type="radio" name="validator" value="yes"></input>Yes</label>
        </div>
        <div class="explanation">
          Select <strong>yes</strong> to stake your EDG at network
          launch. This will require you to have a validator node online
          when the genesis block launches.
        </div>
      </div>
      <div class="form-field form-field-signaling">
        <div class="form-left">
          <div class="caption">Signaled address (optional)</div>
          <input id="SIGNALING_CONTRACT_ADDR" type="text" placeholder="Enter signaled address here"></input>
        </div>
        <div class="explanation">
          <p>
            Enter the address whose ETH balance you are signaling.
          </p>
          <p>
            You may enter the address you are sending from, or the
            address of a contract you have created.
          </p>
        </div>
      </div>
      <div class="form-field form-field-signaling">
        <div class="form-left">
          <div class="caption">Signaled contract nonce (optional)</div>
          <input id="SIGNALING_CONTRACT_NONCE" type="text" placeholder="Enter contract nonce here"></input>
        </div>
        <div class="explanation">
          <p>
            If you are signaling a contract, enter the nonce used when
            the contract was created. Otherwise, enter 0.
          </p>
        </div>
      </div>
      <div class="form-field">
        <div class="form-left">
          <div class="caption">Submit transaction</div>
          <div class="buttons">
            <button class="metamask">Use Metamask</button>
            <button class="mycrypto">Use MyCrypto</button>
            <button class="cli">Use edgeware-lockdrop CLI</button>
          </div>
        </div>
        <div class="explanation">
          <p>
            Select MyCrypto if you are using a Ledger, Trezor, or Safe-T
            hardware wallet, or an offline keystore file.
          </p>
        </div>
      </div>
      <div class="participation-options">
        <div class="participation-option metamask">
          <p>
            You should be prompted by Metamask to sign and send
            the transaction.
          </p>
          <div class="metamask-error"></div>
          <div class="metamask-success"></div>
        </div>
        <div class="participation-option mycrypto">
          <h3>Step 1.</h3>
          <p>
            Open MyCrypto, and
            select <a href="https://mycrypto.com/contracts/interact"
            target="_blank">Tools &rsaquo; Interact with
              Contracts</a>.
          </p>
          <p>
            For security, we recommend using desktop MyCrypto with a
            hardware wallet.
          </p>
          <h3>Step 2.</h3>
          <p>
            Select <strong>Custom</strong> as the contract. Copy the
            lockdrop contract address into the designated input.
          </p>
          <pre id="LOCKDROP_MYCRYPTO_CONTRACT_ADDRESS"></pre>
          <h3>Step 3.</h3>
          <p>
            Copy the JSON ABI into the designated input. Make sure
            there are no extra spaces or line breaks.
          </p>
          <pre id="LOCKDROP_MYCRYPTO_ABI"></pre>
          </p>
          <h3>Step 4.</h3>
          <p>
            Click the Access button. Select <strong>signal</strong>
            or <strong>lock</strong> from the dropdown. Input the
            following data.
          </p>
          <pre id="LOCKDROP_MYCRYPTO_ARGUMENTS"></pre>
          <h3>Step 5.</h3>
          <p>
          </p>
          <p>
            Unlock your wallet, and enter the amount you are locking
            under <strong>Value</strong>, or leave blank if you are
            signaling). We recommend setting your gas limit to 50000.
          </p>
          <pre id="LOCKDROP_MYCRYPTO_VALUE"></pre>
          <p>
            Sign and send the transaction.
          </p>
        </div>
        <div class="participation-option cli">
          <h3>Step 1.</h3>
          <p>
            Clone the <a href="https://github.com/hicommonwealth/edgeware-lockdrop">edgeware-lockdrop</a>
            repository locally. Refer to the README for questions as well as the structure of the API.
          </p>
          <h3>Step 2.</h3>
          <p>
            Create a <i>.env</i> file in the root directory of the repository, containing the following data.
            <pre id="LOCKDROP_DOTENV"></pre>
          </p>
          <h3>Step 3.</h3>
          <p>
            Use the API to send the appropriate locking or signaling transaction.
          </p>
          <h3>Examples</h3>
          <p>
            Locking 0.5 ETH for 3 months, as a validator at network launch, on mainnet
            <pre>node ./scripts/lockdrop.js --remoteUrl https://mainnet.infura.io --lock --lockLength 3 --lockValue 0.5 --edgeAddress $BASE58_EDGE_ADDRESS --isValidator</pre>
            Signaling from a specified contract with a specified nonce, on mainnet
            <pre>node ./scripts/lockdrop.js --remoteUrl https://mainnet.infura.io --signal $FROM_CONTRACT --nonce $NONCE_OF_SIGNAL_CONTRACT --edgeAddress $BASE58_EDGE_ADDRESS</pre>
          </p>
        </div>
      </div>
    </div>
    <div class="footer">
      <div class="container">
        &copy; 2019 <span class="i18n">Commonwealth Labs</span>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js@1.0.0-beta.36/dist/web3.min.js" integrity="sha256-nWBTbvxhJgjslRyuAKJHK+XcZPlCnmIAAMixz6EefVk=" crossorigin="anonymous"></script>
  </body>
</html>
